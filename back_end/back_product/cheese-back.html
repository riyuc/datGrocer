<!DOCTYPE html>
<html lang = "en">
    <head>
        <link rel="stylesheet" href="../../style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Montserrat&display=swap" rel="stylesheet">
        <title> D.A.T. Grocer </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,500;0,600;0,700;0,800;1,500;1,600;1,700;1,800&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <nav>
                <div id="brandLogo"> 
                    <h1> <a id="brandName" href ="../../index.html"><i class="fa fa-leaf"></i> <i>D.A.T.</i> Grocer</a></h1>
                </div>
                <ul>
                    <li class="italic mt-2">Browse our aisles</li>
                    <li> <a href ="../../login_files/login_page.html">Login/Sign Up</a></li>
                    <li> <a href ="../../checkout.html"><i class="fa fa-shopping-cart"></i></a></li>
                </ul>  
            </nav>

            <p>
                <a href="../product_list.html">
                    <input type="button" class="myBtn" value="Return"> 
                </a>
            </p>

            <div class="product-page-topcontainer">
                <div class= "product-box">
                    <img class="product-page-image" src="../../img/cheese.png" alt="cheese-img">
                </div>
                <hr>

                <div>
                    <p class="primary-product-info" id="weight">Swiss Cheese (300g)</p>
                    <input type="button" class="myBtn" value="Save Changes">
                </div>
                <hr>
                <div>
                    <p class="product-page-price" id="price">$5.55 ($1.85 / 100g)</p><br>
                    <form>
                        <input type="text" id="chPrice"/>
                        <input type="button" onclick="changePrice()" value="Change Price" class="myBtn"/><br/>
                        <input type="text" id="chWeight"/>
                        <input type="button" onclick="changeQuantity()" value="Change Quantity" class="myBtn"/><br/>
                    </form>
                </div>
                <hr>
                <div id="moreDesc">
                    <p class="product-page-desc">Product Information: </p>
                    <p>Contains 300 grams of Swiss cheese.</p>
                    <p>Perfect for meal toppings and baking.</p>
                </div>
            </div>
        </div>

        <script>
            var productWg = .3;
            var productPr = 5.55;

            function changePrice() {
                var value = parseFloat(document.getElementById('chPrice').value, 10);
                var pricePerG = (value * 100) / getWeight();
                setPrice(value);
                document.getElementById('price').innerHTML = ("$" + value.toFixed(2)
                        + " ($" + pricePerG.toFixed(2) + " / 100g)");
            }

            function changeQuantity() {
                var wg = parseFloat(document.getElementById('chWeight').value, 10);
                setWeight(wg);
                document.getElementById('weight').innerHTML = ("Swiss Cheese ("
                        + (wg / 1000).toFixed(2) + "kg)");
                updatePrice();
            }

            function getWeight() {
                return productWg;
            }

            function setWeight(weight) {
                productWg = weight;
            }

            function getPrice() {
                return productPr;
            }

            function setPrice(price) {
                productPr = price;
            }
            
            function updatePrice(){
                var pricePerG = (productPr * 100) / getWeight();
                document.getElementById('price').innerHTML = ("$" + productPr.toFixed(2)
                        + " ($" + pricePerG.toFixed(2) + " / 100g)");
            }
        </script>
        <footer>
            <h4><i class="fa fa-leaf"></i></h4>
        </footer>
    </body>
</html>